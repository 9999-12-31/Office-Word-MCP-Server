version: '3.8'

services:
  word-mcp-server:
    build: .
    image: ghcr.io/9999-12-31/office-word-mcp-server:latest
    container_name: word-mcp-server
    ports:
      - "8000:8000"
    environment:
      - MCP_TRANSPORT=streamable-http
      - MCP_HOST=0.0.0.0
      - MCP_PORT=8000
      - MCP_PATH=/mcp
      - MCP_SSE_PATH=/sse
      # 可选：启用调试模式
      # - MCP_DEBUG=1
    volumes:
      - ./documents:/app/documents
    restart: unless-stopped
    healthcheck:
      test: ["CMD", "curl", "-f", "http://localhost:8000/mcp"]
      interval: 30s
      timeout: 10s
      retries: 3
